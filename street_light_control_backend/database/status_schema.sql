-- status table schema (dynamic metrics)
-- Generated on 2025-12-25

CREATE TABLE IF NOT EXISTS `status` (
  `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `uid` VARCHAR(64) NOT NULL,
  `event` VARCHAR(128) NULL,
  `date` DATE NULL,
  `actual_on_time` TIME NULL,
  `actual_off_time` TIME NULL,
  `r_volt` FLOAT NULL,
  `y_volt` FLOAT NULL,
  `b_volt` FLOAT NULL,
  `r_cur` FLOAT NULL,
  `y_cur` FLOAT NULL,
  `b_cur` FLOAT NULL,
  `r_kw` FLOAT NULL,
  `y_kw` FLOAT NULL,
  `b_kw` FLOAT NULL,
  `r_pf` FLOAT NULL,
  `y_pf` FLOAT NULL,
  `b_pf` FLOAT NULL,
  `battery_status` FLOAT NULL,
  `battery_backup_hrs` FLOAT NULL,
  `day_open_reading` FLOAT NULL,
  `day_close_reading` FLOAT NULL,
  `cur_reading` FLOAT NULL,
  `baseline_kWh` FLOAT NULL,
  `adjusted_baseline_kWh` FLOAT NULL,
  `actual_consumption_kWh` FLOAT NULL,
  `energy_saved_kWh` FLOAT NULL,
  `energy_saving_per` FLOAT NULL,
  `lamp_burning_per` FLOAT NULL,
  `status` VARCHAR(64) NULL,
  `CCMS_STATUS` VARCHAR(64) NULL,
  PRIMARY KEY (`id`),
  KEY `idx_status_uid` (`uid`),
  KEY `idx_status_event` (`event`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
